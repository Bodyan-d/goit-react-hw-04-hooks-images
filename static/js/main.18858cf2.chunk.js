(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(8),o=a.n(r),i=(a(14),a(15),a(7)),s=a(3),l=1;function j(e){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(l,"&key=").concat("21922241-ac53faccd58a6508b64890669","&image_type=photo&orientation=horizontal&per_page=12\n")).then((function(t){return t.ok?(l+=1,t.json()):Promise.reject(new Error("\u041d\u0435\u0442\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443: ".concat(e)))}))}a(16);var u=a(0);function m(e){var t=e.onChange,a=e.imageName,n=e.onSubmit;return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{onSubmit:n,className:"SearchForm",children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{onChange:t,value:a,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}function b(e){var t=e.src,a=e.id,n=e.togleModal,c=e.largeURL;return Object(u.jsx)("li",{onClick:n,className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image"})},a)}a(18);function d(e){var t=e.onClick;return Object(u.jsx)("button",{onClick:t,className:"load-more",id:"loadMore",children:"Load more"})}function h(e){var t=e.imagesSearch,a=e.loadMore,n=e.togleModal;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("ul",{className:"ImageGallery",children:t&&t.map((function(e){return Object(u.jsx)(b,{togleModal:n,id:e.id,src:e.webformatURL,largeURL:e.largeImageURL})}))}),Object(u.jsx)(d,{onClick:a})]})}function g(e){var t=e.largeImageURL,a=e.onClose;function c(e){"Escape"===e.code&&a()}return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]),Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&a()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:t,alt:"pictures"})})})}var O=a(9),f=a.n(O);function x(e){return Object(u.jsx)("h1",{children:e})}var p=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),o=Object(s.a)(r,2),b=o[0],d=o[1],O=Object(n.useState)(null),p=Object(s.a)(O,2),v=p[0],S=p[1],N=Object(n.useState)("idle"),y=Object(s.a)(N,2),k=y[0],w=y[1],C=Object(n.useState)(!1),F=Object(s.a)(C,2),I=F[0],L=F[1],M=Object(n.useState)(null),E=Object(s.a)(M,2),R=E[0],U=E[1];function G(e){c(e.target.value)}function B(e){e.preventDefault(),w("pending"),l=1,j(a).then((function(e){S(e.hits),w("resolved")})).catch((function(e){d(e),w("rejected")}))}return"idle"===k?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m,{onSubmit:B,onChange:G,imageName:a})}):"pending"===k?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{onSubmit:B,onChange:G,imageName:a}),Object(u.jsx)("div",{className:"container-loader",children:Object(u.jsx)(f.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})})]}):"resolved"===k?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{onSubmit:B,onChange:G,imageName:a}),Object(u.jsx)(h,{imagesSearch:v,loadMore:function(e){j(a).then((function(e){S([].concat(Object(i.a)(v),Object(i.a)(e.hits)))}))},togleModal:function(e){"ImageGalleryItem-image"===e.target.className&&(L(!0),U(e.target.alt))}}),I&&Object(u.jsx)(g,{largeImageURL:R,onClose:function(){L(!1),U(null)}})]}):"rejected"===k?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(x,{error:b})}):void 0};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.18858cf2.chunk.js.map